{
	"version": "2.0.0",
	"tasks": [
		{
			"label": "Build Verify",
			"type": "shell",
			"command": "npm",
			"args": [
				"run",
				"build:verify"
			],
			"problemMatcher": [
				"$tsc",
				"$eslint-stylish"
			],
			"group": "build"
		},
		{
			"label": "build-verify",
			"type": "shell",
			"command": "npm",
			"args": [
				"run",
				"build:verify"
			],
			"isBackground": false,
			"problemMatcher": [
				"$tsc",
				"$eslint-stylish"
			],
			"group": "build"
		},
		{
			"label": "build-verify-2",
			"type": "shell",
			"command": "npm",
			"args": [
				"run",
				"build:verify"
			],
			"isBackground": false,
			"problemMatcher": [
				"$tsc",
				"$eslint-stylish"
			],
			"group": "build"
		},
		{
			"label": "contracts-only",
			"type": "shell",
			"command": "npm",
			"args": [
				"run",
				"test:contracts"
			],
			"isBackground": false,
			"problemMatcher": [
				"$tsc"
			],
			"group": "build"
		},
		{
			"label": "contracts-only-2",
			"type": "shell",
			"command": "npm",
			"args": [
				"run",
				"test:contracts"
			],
			"isBackground": false,
			"problemMatcher": [
				"$tsc"
			],
			"group": "build"
		},
		{
			"label": "verify-after-meta-split",
			"type": "shell",
			"command": "npm",
			"args": [
				"run",
				"test:contracts"
			],
			"isBackground": false,
			"problemMatcher": [
				"$tsc"
			],
			"group": "build"
		},
		{
			"label": "contracts-after-compat",
			"type": "shell",
			"command": "npm",
			"args": [
				"run",
				"test:contracts"
			],
			"isBackground": false,
			"problemMatcher": [
				"$tsc"
			],
			"group": "build"
		},
		{
			"label": "npm-build",
			"type": "shell",
			"command": "npm",
			"args": [
				"run",
				"build"
			]
		},
		{
			"label": "npm-build",
			"type": "shell",
			"command": "npm",
			"args": [
				"run",
				"build"
			]
		},
		{
			"label": "npm-ci",
			"type": "shell",
			"command": "npm",
			"args": [
				"ci"
			]
		},
		{
			"label": "npm-install",
			"type": "shell",
			"command": "npm",
			"args": [
				"install"
			]
		},
		{
			"label": "npm-build",
			"type": "shell",
			"command": "npm",
			"args": [
				"run",
				"build"
			]
		},
		{
			"label": "npm-build",
			"type": "shell",
			"command": "npm",
			"args": [
				"run",
				"build"
			]
		},
		{
			"label": "npm-build",
			"type": "shell",
			"command": "npm",
			"args": [
				"run",
				"build"
			]
		},
		{
			"label": "git-commit-all",
			"type": "shell",
			"command": "git add .; git commit -m \"feat: add integrity, metrics, usage, prompt review handlers, governance update & enrichment tools, and expanded test suite (drift, restart, concurrency, governance hash, persistence)\"",
			"group": "build"
		},
		{
			"label": "git-commit-all",
			"type": "shell",
			"command": "git add .; git commit -m 'feat: add integrity, metrics, usage, prompt review handlers, governance update & enrichment tools, and expanded test suite (drift, restart, concurrency, governance hash, persistence)'",
			"group": "build"
		},
		{
			"label": "git-commit-all",
			"type": "shell",
			"command": "git add .; git commit -m 'feat: add integrity metrics usage prompt review handlers governance update enrichment tools expanded test suite'",
			"group": "build"
		},
		{
			"label": "git-commit-all-simple",
			"type": "shell",
			"command": "git add .; git commit -m 'chore(release): 0.9.1 all tests green no skips + skip guard'; git tag v0.9.1 -f; git push --follow-tags || git push --tags --force-with-lease",
			"group": "build",
			"problemMatcher": []
		},
		{
			"label": "git-commit-all-noquote",
			"type": "shell",
			"command": "git add .; git commit -m feat-add-handlers-tests",
			"group": "build"
		},
		{
			"label": "git-status",
			"type": "shell",
			"command": "git",
			"args": [
				"status",
				"--short"
			]
		},
		{
			"label": "release-commit-tag-push",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-Command",
				"git add .; git commit -m 'chore(release): 0.9.1 all tests green no skips + skip guard'; git tag v0.9.1 -f; git push --follow-tags || git push --tags --force-with-lease"
			],
			"problemMatcher": []
		},
		{
			"label": "deploy-local-prod",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoLogo",
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"scripts/deploy-local.ps1",
				"-Rebuild",
				"-Overwrite",
				"-TargetDir",
				"C:\\mcp\\mcp-index-server"
			]
		},
		{
			"label": "deploy-local-prod",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoLogo",
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"scripts/deploy-local.ps1",
				"-Rebuild",
				"-Overwrite",
				"-TargetDir",
				"C:\\mcp\\mcp-index-server"
			]
		},
		{
			"label": "npm-test",
			"type": "shell",
			"command": "npm",
			"args": [
				"run",
				"test"
			]
		},
		{
			"label": "release-commit-1.0.1",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-Command",
				"git add .; git commit -m 'chore(release): 1.0.1 semantic error hardening & stress test'; git tag v1.0.1 -f; git push --follow-tags || git push --tags --force-with-lease"
			]
		},
		{
			"label": "cleanup-artifacts",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-Command",
				"Remove-Item -Force -ErrorAction SilentlyContinue .build.lock; Get-ChildItem tmp -Directory -Filter 'minimal-author-*' -ErrorAction SilentlyContinue | Remove-Item -Recurse -Force -ErrorAction SilentlyContinue; Get-ChildItem instructions -Filter 'concurrent-*.json' -ErrorAction SilentlyContinue | Remove-Item -Force -ErrorAction SilentlyContinue; Get-ChildItem instructions -Filter 'fuzz_*.json' -ErrorAction SilentlyContinue | Remove-Item -Force -ErrorAction SilentlyContinue; Write-Host 'CLEANUP_DONE'"
			]
		},
		{
			"label": "cleanup-pre-release",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-Command",
				"Remove-Item -Force -ErrorAction SilentlyContinue .build.lock; Get-ChildItem tmp -Directory -Filter 'minimal-author-*' -ErrorAction SilentlyContinue | Remove-Item -Recurse -Force -ErrorAction SilentlyContinue; Write-Host 'CLEANUP_STAGE_OK'"
			]
		},
		{
			"label": "build-override-lock",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-Command",
				"$env:ALLOW_STALE_BUILD_LOCK='1'; npm run build:verify"
			]
		},
		{
			"label": "git-commit-release-1.0.1",
			"type": "shell",
			"command": "git",
			"args": [
				"add",
				"."
			]
		},
		{
			"label": "git-commit-release-1.0.1-msg",
			"type": "shell",
			"command": "git",
			"args": [
				"commit",
				"-m",
				"chore(release): 1.0.1 semantic error hardening, stress tests, build lock improvements"
			]
		}
	]
}