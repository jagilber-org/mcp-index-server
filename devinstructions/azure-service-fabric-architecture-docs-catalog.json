{
  "id": "azure-service-fabric-architecture-docs-catalog",
  "title": "Azure Service Fabric Architecture Documentation Catalog - Troubleshooting & Debugging Reference",
  "body": "# Azure Service Fabric Architecture Documentation Catalog - Troubleshooting & Debugging Reference\n\n## Overview\nComprehensive catalog of 28 Azure Service Fabric architecture documents with flow diagrams, service architectures, and authentication patterns. Essential reference for troubleshooting production issues, understanding system behavior, and debugging complex scenarios.\n\n**Location**: `C:\\github\\jagilber-pr\\serviceFabricInternal\\Architecture\\`\n\n## Quick Reference Stats\n- **Total Documents**: 28 architecture references\n- **Documents with Diagrams**: 27 (96%)\n- **Total Content**: ~25,000+ words of technical documentation\n- **Diagram Types**: Sequence diagrams, service architectures, flow charts\n- **Coverage**: Core services, authentication flows, operational procedures\n\n## Core Service Architectures\n\n### Cluster Management Services\n\n#### Cluster Manager (CM) Architecture\n- **File**: `cluster-manager-service-architecture.md` (1,079 words) ðŸ“Š\n- **Purpose**: Central orchestration service for cluster operations\n- **Key Flows**: Application lifecycle, service placement, cluster state management\n- **Troubleshooting**: Application deployment failures, service placement issues\n\n#### Fabric (Failover) Manager (FM) Architecture  \n- **File**: `fabric-manager-service-architecture.md` (1,049 words) ðŸ“Š\n- **Purpose**: Node lifecycle, replica placement, failover coordination\n- **Key Flows**: Node failure detection, replica management, partition recovery\n- **Troubleshooting**: Node down scenarios, replica placement failures, partition health\n\n#### Health Manager (HM) Architecture\n- **File**: `health-manager-service-architecture.md` (336 words) ðŸ“Š\n- **Purpose**: Cluster health monitoring and reporting\n- **Key Flows**: Health report aggregation, policy evaluation, alert generation\n- **Troubleshooting**: Health report analysis, policy violations, monitoring gaps\n\n### Data & Storage Services\n\n#### Naming Service (NS) Architecture\n- **File**: `naming-service-architecture.md` (300 words) ðŸ“Š\n- **Purpose**: Service discovery and name resolution\n- **Key Flows**: Service registration, name resolution, partition location\n- **Troubleshooting**: Service discovery failures, name resolution timeouts\n\n#### Image Store Service (ISS) Architecture  \n- **File**: `image-store-service-architecture.md` (339 words) ðŸ“Š\n- **Purpose**: Application package storage and distribution\n- **Key Flows**: Package upload, distribution, version management\n- **Troubleshooting**: Application deployment failures, package corruption\n\n#### DNS Service Architecture\n- **File**: `dns-service-architecture.md` (244 words) ðŸ“Š\n- **Purpose**: DNS-based service discovery\n- **Key Flows**: DNS query resolution, service endpoint mapping\n- **Troubleshooting**: DNS resolution failures, service endpoint issues\n\n### Security & Identity Services\n\n#### Managed Identity Token Service Architecture\n- **File**: `managed-identity-token-service-architecture.md` (1,285 words) ðŸ“Š\n- **Purpose**: Azure managed identity integration\n- **Key Flows**: Token acquisition, identity validation, credential management\n- **Troubleshooting**: Authentication failures, token expiration, identity issues\n\n#### Secret/Certificate Service Architecture\n- **File**: `secret-certificate-service-architecture.md` (350 words) ðŸ“Š\n- **Purpose**: Certificate and secret management\n- **Key Flows**: Certificate provisioning, secret storage, credential rotation\n- **Troubleshooting**: Certificate expiration, secret access failures\n\n### Operational Services\n\n#### Repair Manager (RM) Architecture\n- **File**: `repair-manager-service-architecture.md` (395 words) ðŸ“Š\n- **Purpose**: Automated repair task coordination\n- **Key Flows**: Repair task lifecycle, approval workflows, execution tracking\n- **Troubleshooting**: Stuck repair tasks, approval timeouts, execution failures\n\n#### Backup & Restore Service (BRS) Architecture\n- **File**: `backup-restore-service-architecture.md` (357 words) ðŸ“Š\n- **Purpose**: Data backup and recovery operations\n- **Key Flows**: Backup scheduling, data restoration, policy management\n- **Troubleshooting**: Backup failures, restore timeouts, policy violations\n\n#### Fault Analysis Service (FAS) Architecture\n- **File**: `fault-analysis-service-architecture.md` (376 words) ðŸ“Š\n- **Purpose**: Chaos testing and fault injection\n- **Key Flows**: Fault injection, chaos experiments, system resilience testing\n- **Troubleshooting**: Test execution failures, unexpected system behavior\n\n### Monitoring & Diagnostics\n\n#### Data Collection Agent (FabricDCA) Architecture\n- **File**: `fabricdca-architecture.md` (2,643 words) ðŸ“Š\n- **Purpose**: ETW event collection and forwarding\n- **Key Flows**: Event collection, filtering, forwarding to monitoring systems\n- **Troubleshooting**: Missing telemetry, performance issues, data loss\n\n## Authentication Flow Patterns\n\n### Gateway Authentication Flows\nComprehensive authentication patterns for secure cluster access:\n\n#### Azure Active Directory (AAD)\n- **File**: `gateway-auth-aad.md` (733 words) ðŸ“Š\n- **Pattern**: OAuth 2.0 / JWT token-based authentication\n- **Use Case**: Enterprise integration, centralized identity management\n- **Troubleshooting**: Token validation failures, AAD connectivity issues\n\n#### Certificate-Based Authentication\n- **File**: `client-certificate-auth-flow.md` (995 words) ðŸ“Š\n- **Pattern**: X.509 certificate validation\n- **Use Case**: Service-to-service authentication, automated clients\n- **Troubleshooting**: Certificate validation failures, trust chain issues\n\n#### CA-Issued Client Certificates\n- **File**: `gateway-auth-ca-cert.md` (497 words) ðŸ“Š\n- **Pattern**: Certificate Authority validation\n- **Use Case**: Enterprise PKI integration\n- **Troubleshooting**: CA validation failures, certificate revocation\n\n#### Common Name (CN) Mapping\n- **File**: `gateway-auth-common-name-mapping.md` (474 words) ðŸ“Š\n- **Pattern**: Subject Common Name pattern matching\n- **Use Case**: Flexible certificate-based access control\n- **Troubleshooting**: Pattern matching failures, wildcard issues\n\n#### Thumbprint Mapping\n- **File**: `gateway-auth-thumbprint-mapping.md` (416 words) ðŸ“Š\n- **Pattern**: Explicit certificate thumbprint validation\n- **Use Case**: High-security scenarios, specific certificate pinning\n- **Troubleshooting**: Thumbprint mismatch, certificate rotation issues\n\n#### Standalone (Self-Signed) Certificates\n- **File**: `gateway-auth-standalone-cert.md` (475 words) ðŸ“Š\n- **Pattern**: Self-signed certificate validation\n- **Use Case**: Development, testing, isolated environments\n- **Troubleshooting**: Self-signed validation failures, trust issues\n\n### Access Control Flows\n\n#### Management Role Access Control\n- **File**: `management-role-access-control-flow.md` (1,514 words) ðŸ“Š\n- **Pattern**: Role-based access control for management operations\n- **Use Case**: Administrative access control, least privilege\n- **Troubleshooting**: Permission denied errors, role assignment issues\n\n## Operational Flow Patterns\n\n### Upgrade & Configuration Flows\n\n#### Application Upgrade Flow\n- **File**: `application-upgrade-flow.md` (838 words) ðŸ“Š\n- **Pattern**: Rolling upgrade with health checks\n- **Key Phases**: Validation, upgrade domains, rollback scenarios\n- **Troubleshooting**: Upgrade failures, health check timeouts, rollback issues\n\n#### Cluster Upgrade Flow\n- **File**: `cluster-upgrade-flow.md` (1,188 words) ðŸ“Š\n- **Pattern**: Fabric upgrade with safety checks\n- **Key Phases**: Pre-upgrade validation, rolling upgrade, post-upgrade verification\n- **Troubleshooting**: Upgrade stuck, safety check failures, version compatibility\n\n#### Cluster Configuration Upgrade\n- **File**: `cluster-config-upgrade-flow.md` (660 words) ðŸ“Š\n- **Pattern**: Configuration changes with validation\n- **Key Phases**: Config validation, staged rollout, rollback procedures\n- **Troubleshooting**: Configuration validation failures, rollback scenarios\n\n### Infrastructure & Repair Flows\n\n#### Infrastructure Job Flow\n- **File**: `infrastructure-job-flow.md` (2,976 words) ðŸ“Š\n- **Pattern**: Coordinated infrastructure operations\n- **Key Phases**: Job submission, execution coordination, status tracking\n- **Troubleshooting**: Job execution failures, coordination timeouts, stuck jobs\n\n#### Manual Repair Approval Flow\n- **File**: `manual-repair-approval-flow.md` (1,002 words) ðŸ“Š\n- **Pattern**: Human-in-the-loop repair approval\n- **Key Phases**: Repair request, approval workflow, execution monitoring\n- **Troubleshooting**: Approval timeouts, execution failures, workflow issues\n\n#### Repair Job Execution Flow\n- **File**: `repair-job-execution-flow.md` (736 words) ðŸ“Š\n- **Pattern**: Automated repair task execution\n- **Key Phases**: Task preparation, execution, completion verification\n- **Troubleshooting**: Execution timeouts, task failures, state inconsistencies\n\n#### Infrastructure Manual Control vs Force Recovery\n- **File**: `infrastructure-manual-control-vs-force-recovery.md` (1,251 words) ðŸ“Š\n- **Pattern**: Update domain control strategies\n- **Key Scenarios**: Manual progression vs automated recovery\n- **Troubleshooting**: Stuck update domains, force recovery decisions\n\n## Architecture Overview\n\n#### Service Fabric Architecture Overview\n- **File**: `Architecture.md` (764 words) ðŸ“„\n- **Purpose**: High-level system architecture and component relationships\n- **Content**: System overview, component interactions, design principles\n- **Use Case**: Understanding overall system design, architectural decisions\n\n#### Authentication Architecture\n- **File**: `authentication-architecture.md` (1,369 words) ðŸ“Š\n- **Purpose**: Comprehensive authentication system design\n- **Content**: Authentication patterns, security models, integration points\n- **Use Case**: Security analysis, authentication troubleshooting\n\n## Troubleshooting Usage Patterns\n\n### By Problem Category\n\n#### Application Issues\n1. **Deployment Failures**: Review `cluster-manager-service-architecture.md`, `application-upgrade-flow.md`\n2. **Service Discovery**: Check `naming-service-architecture.md`, `dns-service-architecture.md`\n3. **Health Problems**: Analyze `health-manager-service-architecture.md`\n\n#### Infrastructure Issues\n1. **Node Failures**: Examine `fabric-manager-service-architecture.md`, `infrastructure-job-flow.md`\n2. **Repair Operations**: Study `repair-manager-service-architecture.md`, `manual-repair-approval-flow.md`\n3. **Upgrade Problems**: Reference `cluster-upgrade-flow.md`, `cluster-config-upgrade-flow.md`\n\n#### Security Issues\n1. **Authentication Failures**: Review gateway authentication flows based on auth method\n2. **Certificate Issues**: Check certificate-specific authentication flows\n3. **Access Control**: Examine `management-role-access-control-flow.md`\n\n#### Monitoring & Data Issues\n1. **Missing Telemetry**: Investigate `fabricdca-architecture.md`\n2. **Backup/Restore**: Check `backup-restore-service-architecture.md`\n3. **Identity Problems**: Review `managed-identity-token-service-architecture.md`\n\n### Quick Troubleshooting Workflow\n\n1. **Identify Problem Category**: Application, Infrastructure, Security, or Monitoring\n2. **Select Relevant Documents**: Use category mappings above\n3. **Review Flow Diagrams**: Understand expected behavior patterns\n4. **Compare with Actual Behavior**: Identify deviations from expected flows\n5. **Apply Architecture Knowledge**: Use service interaction understanding for root cause analysis\n\n## Integration Points\n\n### With Existing Tools\n- **Service Fabric Explorer**: Visual correlation with architecture diagrams\n- **PowerShell Modules**: Operational commands mapped to architectural flows\n- **Diagnostic Tools**: ETW events correlated with `fabricdca-architecture.md`\n- **Azure Monitor**: Telemetry patterns from architecture documentation\n\n### With Support Processes\n- **Incident Response**: Architecture-guided troubleshooting approach\n- **Root Cause Analysis**: Flow diagrams for understanding failure propagation\n- **Capacity Planning**: Service architecture for scaling decisions\n- **Change Management**: Upgrade flows for safe change implementation\n\n## Maintenance & Updates\n\n- **Document Status**: All documents recently updated with fixed mermaid diagrams\n- **Diagram Quality**: Transparent backgrounds, professional styling applied\n- **Syntax Validation**: All mermaid syntax errors corrected\n- **Location Stability**: Documents stored in version-controlled repository\n- **Update Frequency**: Architecture documents updated with product changes\n\n## PowerShell Commands for Quick Access\n\n```powershell\n# Quick document search\n$archPath = \"C:\\github\\jagilber-pr\\serviceFabricInternal\\Architecture\"\nGet-ChildItem \"$archPath\\*.md\" | Select-String \"search-term\" -List\n\n# Open specific architecture document\ncode \"$archPath\\cluster-manager-service-architecture.md\"\n\n# Search across all documents\nGet-ChildItem \"$archPath\\*.md\" | ForEach-Object { \n    Get-Content $_.FullName | Select-String \"error-pattern\" -Context 3 \n}\n\n# List documents by category\n$authDocs = Get-ChildItem \"$archPath\\gateway-auth-*.md\"\n$serviceDocs = Get-ChildItem \"$archPath\\*-service-architecture.md\"\n$flowDocs = Get-ChildItem \"$archPath\\*-flow.md\"\n```\n\nThis comprehensive architecture catalog serves as the definitive reference for understanding Azure Service Fabric system behavior, troubleshooting production issues, and implementing effective debugging strategies.",
  "priority": 90,
  "audience": "all",
  "requirement": "recommended",
  "categories": [
    "architecture",
    "azure-service-fabric",
    "debugging",
    "documentation",
    "operational-knowledge",
    "reference",
    "troubleshooting"
  ],
  "sourceHash": "4b51d9b792a56d30f4b170e247a0d49bfbc6ef11355a152dcedfb96c83d97b0c",
  "schemaVersion": "3",
  "createdAt": "2025-08-31T23:55:57.196Z",
  "updatedAt": "2025-09-10T10:56:56.821Z",
  "riskScore": 30,
  "version": "1.0.0",
  "status": "approved",
  "owner": "unowned",
  "priorityTier": "P4",
  "classification": "internal",
  "lastReviewedAt": "2025-08-31T23:55:57.196Z",
  "nextReviewDue": "2025-12-29T23:55:57.196Z",
  "reviewIntervalDays": 120,
  "changeLog": [
    {
      "version": "1.0.0",
      "changedAt": "2025-08-31T23:55:57.196Z",
      "summary": "initial import"
    }
  ],
  "semanticSummary": "# Azure Service Fabric Architecture Documentation Catalog - Troubleshooting & Debugging Reference",
  "primaryCategory": "architecture"
}