{
  "id": "mcp-obfuscation-server-api-reference",
  "title": "MCP Obfuscation Server - Detailed API Reference",
  "body": "# MCP Obfuscation Server - Core Tool APIs\n\n## Primary Obfuscation Functions\n\n### mcp_obfuscate-mcp_unified_obfuscate\n**Purpose**: Primary file obfuscation with security levels and agent consistency\n\n**Required Parameters**:\n- `filePath` (string): Absolute path to input file\n\n**Optional Parameters**:\n- `agentId` (string): Agent/session consistency identifier\n- `securityLevel` (string): \"permissive\", \"standard\", \"strict\", \"paranoid\"\n- `outputMode` (string): \"inline\", \"file\", \"both\", \"summary\"\n- `shareMetadataOnly` (boolean): Return only metadata (online safe)\n- `sessionScope` (string): \"agent\", \"file\", \"global\"\n- `authToken` (string): Bearer access token for authentication\n\n**Example**:\n```json\n{\n  \"filePath\": \"C:\\\\cases\\\\temp\\\\orders.csv\",\n  \"agentId\": \"demo-session\",\n  \"securityLevel\": \"standard\",\n  \"outputMode\": \"both\"\n}\n```\n\n### mcp_obfuscate-mcp_obfuscate_text\n**Purpose**: In-memory text obfuscation with agent session consistency\n\n**Required Parameters**:\n- `text` (string): Raw input text to obfuscate\n\n**Optional Parameters**:\n- `agentId` (string): Agent/session consistency identifier\n- `securityLevel` (string): Security level for obfuscation\n- `sessionScope` (string): Scope for agent session\n- `shareMetadataOnly` (boolean): Return only metadata\n- `customPatterns` (array): Custom regex patterns for detection\n\n**Example**:\n```json\n{\n  \"text\": \"Contact: john.doe@company.com for support\",\n  \"agentId\": \"text-processing\",\n  \"securityLevel\": \"standard\"\n}\n```\n\n### mcp_obfuscate-mcp_enhanced_obfuscate\n**Purpose**: Advanced obfuscation with pattern filtering and context awareness\n\n**Required Parameters**:\n- `text` (string): Text content to obfuscate\n\n**Optional Parameters**:\n- `categories` (array): Specific pattern categories [\"pii\", \"cloud\", \"secret\", \"infra\"]\n- `scenario` (string): Predefined scenarios (\"email-only\", \"azure-minimal\", etc.)\n- `contextAware` (boolean): Enable context validation\n- `fileType` (string): File type for pattern optimization\n- `agentId` (string): Agent session ID\n\n**Example**:\n```json\n{\n  \"text\": \"Azure subscription: 12345678-1234-1234-1234-123456789012\",\n  \"categories\": [\"cloud\", \"secret\"],\n  \"contextAware\": true\n}\n```\n\n### mcp_obfuscate-mcp_bulk_unified_obfuscate\n**Purpose**: Batch obfuscate multiple files with consistency\n\n**Optional Parameters**:\n- `rootDir` (string): Base directory for glob discovery\n- `files` (array): Explicit file paths\n- `include` (array): Glob include patterns\n- `exclude` (array): Glob exclude patterns\n- `agentId` (string): Agent identifier for consistency\n- `concurrency` (number): Max parallel files (default 4)\n- `securityLevel` (string): Security level for all files\n- `outputMode` (string): Output delivery mode\n\n**Example**:\n```json\n{\n  \"rootDir\": \"C:\\\\cases\\\\data\",\n  \"include\": [\"*.csv\", \"*.json\"],\n  \"exclude\": [\"*_processed.*\"],\n  \"agentId\": \"bulk-001\",\n  \"concurrency\": 3\n}\n```\n\n## Deobfuscation and Key Management\n\n### mcp_obfuscate-mcp_report_deobfuscate (ADMIN ONLY)\n**Purpose**: Restore obfuscated data using decryption keys\n\n**Required Parameters**:\n- `keyId` (string): Obfuscation key ID for decryption\n- `filePath` (string): Path to obfuscated file\n- `authToken` (string): Admin authentication token\n\n**Optional Parameters**:\n- `outputPath` (string): Target path for deobfuscated file\n\n**Example**:\n```json\n{\n  \"keyId\": \"key-123e4567-e89b-12d3-a456-426614174000\",\n  \"filePath\": \"C:\\\\cases\\\\temp\\\\data.csv.obfuscated\",\n  \"outputPath\": \"C:\\\\cases\\\\temp\\\\data_restored.csv\",\n  \"authToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"\n}\n```\n\n### mcp_obfuscate-mcp_list_obfuscation_keys\n**Purpose**: List all available obfuscation keys with metadata\n\n**Required Parameters**:\n- `authToken` (string): Bearer access token\n\n### mcp_obfuscate-mcp_get_obfuscation_key_info\n**Purpose**: Get detailed metadata about specific key\n\n**Required Parameters**:\n- `keyId` (string): ID of the obfuscation key\n- `authToken` (string): Bearer access token\n\n## Specialized Processing\n\n### mcp_obfuscate-mcp_process_kusto_results\n**Purpose**: Apply PII obfuscation to Azure Kusto query results\n\n**Required Parameters**:\n- `kustoResults` (object): Raw Kusto results object\n\n**Optional Parameters**:\n- `agentId` (string): Agent/session ID for consistency\n- `sessionId` (string): Explicit session identifier\n- `shareMetadataOnly` (boolean): Metadata-only mode\n\n### mcp_obfuscate-mcp_read_file_redacted\n**Purpose**: Read file with automatic PII redaction\n\n**Required Parameters**:\n- `filePath` (string): Absolute path to file\n\n**Optional Parameters**:\n- `redactionLevel` (string): \"minimal\", \"standard\", \"aggressive\"\n- `includeLineNumbers` (boolean): Include line numbers (default true)\n- `maxLines` (number): Maximum lines (default 1000)\n- `preserveStructure` (boolean): Preserve formatting (default true)\n\n## Dashboard Access\n\n### mcp_obfuscate-mcp_get_dashboard_link\n**Purpose**: Get URL for metrics dashboard if enabled\n\n**No Parameters Required**\n\n**Returns**: Dashboard URL or indicates if dashboard is not running\n\n## Security and Authentication\n\n### Authentication Levels\n1. **No Auth**: Basic obfuscation operations\n2. **User Auth**: Enhanced features and session management\n3. **Admin Auth**: Key management and deobfuscation operations\n\n### JWT Token Requirements\n- **Format**: Bearer token in Authorization header\n- **Expiration**: Typically 3600 seconds (1 hour)\n- **Scope**: Admin tokens required for sensitive operations\n- **Refresh**: Use token management tools for renewal\n\n### Security Best Practices\n1. Always use admin authentication for deobfuscation\n2. Limit key access to authorized personnel only\n3. Use agent IDs for session consistency\n4. Monitor dashboard for usage patterns\n5. Regularly rotate authentication tokens",
  "priority": 95,
  "audience": "developers",
  "requirement": "recommended",
  "categories": [],
  "sourceHash": "cf4ae346e7fa0029bce699401c2212c2147695b9271a9d0e89e804062f6319dc",
  "schemaVersion": "3",
  "createdAt": "2025-09-08T22:30:20.279Z",
  "updatedAt": "2025-09-08T22:30:20.279Z",
  "riskScore": 25,
  "version": "1.0.0",
  "status": "approved",
  "owner": "unowned",
  "priorityTier": "P4",
  "classification": "internal",
  "lastReviewedAt": "2025-09-08T22:30:20.279Z",
  "nextReviewDue": "2026-01-06T22:30:20.279Z",
  "reviewIntervalDays": 120,
  "changeLog": [
    {
      "version": "1.0.0",
      "changedAt": "2025-09-08T22:30:20.279Z",
      "summary": "initial import"
    }
  ],
  "semanticSummary": "# MCP Obfuscation Server - Core Tool APIs"
}