{
  "id": "mermaid-mcp-server-comprehensive-guide",
  "title": "Mermaid MCP Server - Comprehensive Tool Guide & Usage Patterns",
  "body": "# Mermaid MCP Server - Comprehensive Tool Guide & Usage Patterns\n\n## Overview\nThe Mermaid MCP Server provides dynamic diagram generation capabilities through a single, powerful tool that supports multiple output formats, themes, and diagram types. Essential for documentation, architecture visualization, workflow mapping, and technical communication.\n\n**Server Tool**: `mcp_mermaid_diagr_generate_mermaid_diagram`\n**Primary Purpose**: Convert mermaid syntax into visual diagrams\n**Output Formats**: PNG images, SVG vectors, raw mermaid text\n**Integration**: Direct VS Code integration, documentation workflows, technical specifications\n\n## Core Tool: generate_mermaid_diagram\n\n### Tool Signature\n```typescript\ngenerate_mermaid_diagram({\n  mermaid: string,           // Required: Mermaid diagram syntax\n  outputType?: string,       // Optional: \"png\" | \"svg\" | \"mermaid\" (default: \"png\")\n  theme?: string,            // Optional: \"default\" | \"base\" | \"forest\" | \"dark\" | \"neutral\" (default: \"default\")\n  backgroundColor?: string   // Optional: Background color (default: \"white\")\n})\n```\n\n### Parameter Details\n\n#### mermaid (Required)\n- **Type**: String\n- **Purpose**: Complete mermaid diagram syntax\n- **Validation**: Must be valid mermaid syntax\n- **Examples**:\n  - `\"graph TD; A-->B; B-->C\"`\n  - `\"sequenceDiagram; Alice->>Bob: Hello\"`\n  - `\"classDiagram; class User { +name: string }\"`\n\n#### outputType (Optional)\n- **Default**: \"png\"\n- **Options**:\n  - `\"png\"`: Renders as PNG image (binary output)\n  - `\"svg\"`: Renders as SVG vector graphics (scalable)\n  - `\"mermaid\"`: Returns raw mermaid syntax (text)\n- **Use Cases**:\n  - PNG: Documentation, presentations, static embedding\n  - SVG: Web pages, scalable graphics, interactive elements\n  - Mermaid: Syntax validation, template generation, processing\n\n#### theme (Optional)\n- **Default**: \"default\"\n- **Available Themes**:\n  - `\"default\"`: Standard mermaid styling\n  - `\"base\"`: Minimal, clean appearance\n  - `\"forest\"`: Green/nature-inspired color scheme\n  - `\"dark\"`: Dark background with light text\n  - `\"neutral\"`: Grayscale, professional appearance\n- **Selection Criteria**:\n  - Default: General purpose, documentation\n  - Forest: Natural workflows, environmental themes\n  - Dark: Presentations, dark mode interfaces\n  - Neutral: Formal documents, professional reports\n  - Base: Minimal diagrams, template foundations\n\n#### backgroundColor (Optional)\n- **Default**: \"white\"\n- **Format**: CSS color values (hex, named, rgb)\n- **Examples**: \"transparent\", \"#f0f0f0\", \"lightblue\", \"rgba(255,255,255,0.8)\"\n- **Use Cases**: Integration with existing designs, transparency effects\n\n## Supported Diagram Types\n\n### 1. Flowcharts & Graphs\n```mermaid\ngraph TD\n    A[Start] --> B{Decision}\n    B -->|Yes| C[Action 1]\n    B -->|No| D[Action 2]\n    C --> E[End]\n    D --> E\n```\n\n**Syntax Patterns**:\n- `graph TD` (Top Down), `graph LR` (Left Right)\n- Node shapes: `[Rectangle]`, `(Rounded)`, `{Diamond}`, `((Circle))`\n- Connections: `-->`, `-.->`, `==>`, `--text-->`\n\n### 2. Sequence Diagrams\n```mermaid\nsequenceDiagram\n    participant A as Alice\n    participant B as Bob\n    A->>B: Hello Bob\n    B-->>A: Hello Alice\n    Note over A,B: Communication\n```\n\n**Syntax Patterns**:\n- Participants: `participant A as Alice`\n- Messages: `->>`, `-->>`, `-x`, `--x`\n- Notes: `Note over A,B: Text`\n- Loops: `loop`, `alt`, `opt`\n\n### 3. Class Diagrams\n```mermaid\nclassDiagram\n    class User {\n        +String name\n        +String email\n        +login()\n        +logout()\n    }\n    class Admin {\n        +manage()\n    }\n    User <|-- Admin\n```\n\n**Syntax Patterns**:\n- Classes: `class ClassName { }`\n- Properties: `+public`, `-private`, `#protected`\n- Relations: `<|--`, `*--`, `o--`, `-->`\n\n### 4. State Diagrams\n```mermaid\nstateDiagram-v2\n    [*] --> Idle\n    Idle --> Processing : start\n    Processing --> Complete : finish\n    Complete --> [*]\n```\n\n### 5. Gantt Charts\n```mermaid\ngantt\n    title Project Timeline\n    dateFormat YYYY-MM-DD\n    section Phase 1\n    Task 1 :2024-01-01, 30d\n    Task 2 :after task1, 20d\n```\n\n### 6. Pie Charts\n```mermaid\npie title Distribution\n    \"Category A\" : 45\n    \"Category B\" : 35\n    \"Category C\" : 20\n```\n\n## Usage Patterns & Best Practices\n\n### Documentation Workflow\n```typescript\n// 1. Architecture Documentation\ngenerate_mermaid_diagram({\n  mermaid: `graph TD\n    Client[Client App] --> API[REST API]\n    API --> DB[(Database)]\n    API --> Cache[Redis Cache]\n    DB --> Backup[Backup Storage]`,\n  outputType: \"png\",\n  theme: \"default\"\n})\n\n// 2. Process Flows\ngenerate_mermaid_diagram({\n  mermaid: `flowchart LR\n    Start --> Validate\n    Validate --> Process\n    Process --> Store\n    Store --> Notify\n    Notify --> End`,\n  outputType: \"svg\",\n  backgroundColor: \"transparent\"\n})\n```\n\n### Technical Specifications\n```typescript\n// System Architecture\ngenerate_mermaid_diagram({\n  mermaid: `C4Context\n    Enterprise_Boundary(b0, \"System Boundary\") {\n      System(userSystem, \"User System\")\n      System(paymentSystem, \"Payment System\")\n    }\n    Rel(userSystem, paymentSystem, \"Processes payments\")`,\n  theme: \"neutral\",\n  outputType: \"png\"\n})\n```\n\n### Interactive Presentations\n```typescript\n// Dark theme for presentations\ngenerate_mermaid_diagram({\n  mermaid: `sequenceDiagram\n    participant User\n    participant System\n    participant Database\n    \n    User->>System: Request Data\n    System->>Database: Query\n    Database-->>System: Results\n    System-->>User: Response`,\n  theme: \"dark\",\n  outputType: \"svg\"\n})\n```\n\n## Advanced Usage Scenarios\n\n### Template Generation\n```typescript\n// Generate reusable templates\ngenerate_mermaid_diagram({\n  mermaid: `graph TD\n    A[Component A] --> B[Component B]\n    B --> C[Component C]\n    C --> D[Component D]`,\n  outputType: \"mermaid\"  // Returns raw syntax for modification\n})\n```\n\n### Integration Workflows\n```typescript\n// Multi-format generation for different contexts\nconst baseChart = `graph LR\n  Dev[Development] --> Test[Testing]\n  Test --> Prod[Production]`;\n\n// For documentation (PNG)\ngenerate_mermaid_diagram({ mermaid: baseChart, outputType: \"png\" })\n\n// For web integration (SVG)\ngenerate_mermaid_diagram({ mermaid: baseChart, outputType: \"svg\" })\n\n// For editing (Raw)\ngenerate_mermaid_diagram({ mermaid: baseChart, outputType: \"mermaid\" })\n```\n\n## Error Handling & Validation\n\n### Common Syntax Issues\n- **Invalid syntax**: Malformed mermaid code\n- **Unsupported features**: Using newer mermaid features not supported by server\n- **Theme conflicts**: Incompatible theme + diagram type combinations\n\n### Validation Strategy\n```typescript\n// Test with mermaid output first\ngenerate_mermaid_diagram({\n  mermaid: complexDiagram,\n  outputType: \"mermaid\"  // Validates syntax without rendering\n})\n\n// Then generate final output\ngenerate_mermaid_diagram({\n  mermaid: complexDiagram,\n  outputType: \"png\",\n  theme: \"default\"\n})\n```\n\n## Integration Examples\n\n### VS Code Documentation\n```markdown\n## System Architecture\n\n<!-- Generate with Mermaid MCP -->\n![Architecture](mermaid-diagram-output.png)\n\n<!-- Original syntax for reference -->\n```mermaid\ngraph TD\n    A --> B\n    B --> C\n```\n```\n\n### Technical Reports\n```typescript\n// Professional neutral theme for reports\ngenerate_mermaid_diagram({\n  mermaid: `gantt\n    title Project Phases\n    dateFormat YYYY-MM-DD\n    section Analysis\n    Requirements :2024-01-01, 14d\n    Design :2024-01-15, 21d\n    section Development\n    Implementation :2024-02-05, 60d\n    Testing :2024-04-05, 30d`,\n  theme: \"neutral\",\n  backgroundColor: \"#f8f9fa\"\n})\n```\n\n### Interactive Diagrams\n```typescript\n// SVG for web integration with CSS styling\ngenerate_mermaid_diagram({\n  mermaid: `graph TD\n    A[User Input] --> B[Validation]\n    B --> C{Valid?}\n    C -->|Yes| D[Process]\n    C -->|No| E[Error]\n    D --> F[Success]\n    E --> G[Retry]`,\n  outputType: \"svg\",\n  backgroundColor: \"transparent\"\n})\n```\n\n## Performance Considerations\n\n### Optimization Guidelines\n- **Simple diagrams**: Use PNG for final output, mermaid for validation\n- **Complex diagrams**: Generate SVG for scalability\n- **Batch processing**: Validate syntax first with outputType=\"mermaid\"\n- **Theme selection**: Choose appropriate theme to minimize rendering time\n\n### Caching Strategy\n```typescript\n// Cache frequently used diagrams\nconst cacheKey = hashMermaidSyntax(diagramSyntax);\nif (!cache.has(cacheKey)) {\n  const result = generate_mermaid_diagram({\n    mermaid: diagramSyntax,\n    outputType: \"png\"\n  });\n  cache.set(cacheKey, result);\n}\n```\n\n## Troubleshooting Guide\n\n### Common Issues\n1. **Syntax Errors**: Test with outputType=\"mermaid\" first\n2. **Rendering Failures**: Try different themes or simpler syntax\n3. **Performance Issues**: Break complex diagrams into smaller parts\n4. **Theme Problems**: Verify theme compatibility with diagram type\n\n### Debug Workflow\n```typescript\n// 1. Validate syntax\ntry {\n  const validation = generate_mermaid_diagram({\n    mermaid: userInput,\n    outputType: \"mermaid\"\n  });\n  console.log(\"Syntax valid:\", validation);\n} catch (error) {\n  console.error(\"Syntax error:\", error);\n}\n\n// 2. Test rendering\ntry {\n  const image = generate_mermaid_diagram({\n    mermaid: userInput,\n    outputType: \"png\",\n    theme: \"default\"\n  });\n  console.log(\"Rendering successful\");\n} catch (error) {\n  console.error(\"Rendering failed:\", error);\n}\n```\n\n## Success Metrics\n\n- **Syntax Validation**: 100% of valid mermaid syntax processes without errors\n- **Output Generation**: All three output types (PNG, SVG, mermaid) function correctly\n- **Theme Support**: All five themes render appropriately\n- **Integration**: Seamless embedding in documentation and presentations\n- **Performance**: Diagram generation completes within acceptable time limits\n\n## Maintenance & Updates\n\n- **Server Status**: Monitor via health checks\n- **Syntax Support**: Stay updated with mermaid.js feature releases\n- **Theme Evolution**: Test new themes as they become available\n- **Output Quality**: Regularly validate generated diagram quality\n- **Integration Health**: Ensure continued compatibility with VS Code and other tools\n\nThis comprehensive guide enables full utilization of the Mermaid MCP Server for all diagramming needs, from simple flowcharts to complex technical documentation.",
  "rationale": "Provides complete documentation for Mermaid MCP Server capabilities, enabling effective diagram generation for documentation, architecture visualization, and technical communication.",
  "priority": 75,
  "audience": "all",
  "requirement": "recommended",
  "categories": [
    "diagramming",
    "documentation",
    "mcp-servers",
    "technical-communication",
    "visualization"
  ],
  "primaryCategory": "diagramming",
  "sourceHash": "6f250c54e11699e54954a8d6dca08abcf412cbaf7c96161aac9545cfa8ce0edf",
  "schemaVersion": "3",
  "createdAt": "2025-09-11T17:36:33.730Z",
  "updatedAt": "2025-09-11T17:36:33.730Z",
  "riskScore": 45,
  "owner": "unowned",
  "priorityTier": "P2",
  "classification": "internal",
  "version": "1.0.0",
  "status": "approved",
  "lastReviewedAt": "2025-09-11T17:36:33.731Z",
  "nextReviewDue": "2025-11-10T17:36:33.731Z",
  "reviewIntervalDays": 60,
  "changeLog": [
    {
      "version": "1.0.0",
      "changedAt": "2025-09-11T17:36:33.730Z",
      "summary": "initial import"
    }
  ],
  "semanticSummary": "# Mermaid MCP Server - Comprehensive Tool Guide & Usage Patterns"
}