{
  "id": "mcp-obfuscation-server-workflows",
  "title": "MCP Obfuscation Server - Practical Workflows & Testing",
  "body": "# MCP Obfuscation Server - Practical Workflows\n\n## Tested Workflow: Complete Obfuscation/Deobfuscation Cycle\n\n### Prerequisites\n1. MCP Obfuscation Server running and accessible\n2. Admin JWT token for deobfuscation operations\n3. Sample data files (CSV, JSON, text)\n\n### Step 1: Tool Activation\nAlways activate required tool categories first:\n\n```javascript\n// Core obfuscation tools\nactivate_mcp_obfuscate_obfuscation_tools()\n\n// Key management (admin required)\nactivate_mcp_obfuscate_key_management_tools()\n\n// Deobfuscation (admin required)\nactivate_mcp_obfuscate_report_tools()\n```\n\n### Step 2: File Obfuscation\nTest with sample data file:\n\n```javascript\n// Example: Obfuscate orders.csv\nmcp_obfuscate-mcp_unified_obfuscate({\n  \"filePath\": \"C:\\\\cases\\\\temp\\\\orders.csv\",\n  \"agentId\": \"test-session-001\",\n  \"securityLevel\": \"standard\",\n  \"outputMode\": \"both\"\n})\n```\n\n**Expected Output**:\n- Original file preserved\n- New obfuscated file created (.obfuscated extension)\n- Key ID returned for later deobfuscation\n- Summary showing detected PII patterns\n\n### Step 3: Verify Obfuscation Results\nCheck that PII has been properly tokenized:\n\n**Original Data Example**:\n```csv\norder_id,customer_email,amount,date\n12345,john.smith@example.com,99.99,2024-08-01\n12346,jane.doe@company.com,149.50,2024-08-02\n```\n\n**Obfuscated Data Example**:\n```csv\norder_id,customer_email,amount,date\n12345,[EMAIL-23B0F9D4],99.99,2024-08-01\n12346,[EMAIL-A7C3E8F1],149.50,2024-08-02\n```\n\n### Step 4: List Available Keys\nRetrieve obfuscation keys for deobfuscation:\n\n```javascript\nmcp_obfuscate-mcp_list_obfuscation_keys({\n  \"authToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"\n})\n```\n\n**Expected Output**:\n- Array of key objects with metadata\n- Key IDs, creation timestamps, file associations\n- Agent session information\n\n### Step 5: Deobfuscation (Admin Only)\nRestore original data using the key:\n\n```javascript\nmcp_obfuscate-mcp_report_deobfuscate({\n  \"keyId\": \"key-returned-from-step-2\",\n  \"filePath\": \"C:\\\\cases\\\\temp\\\\orders.csv.obfuscated\",\n  \"outputPath\": \"C:\\\\cases\\\\temp\\\\orders_restored.csv\",\n  \"authToken\": \"admin-jwt-token\"\n})\n```\n\n**Expected Output**:\n- Restored file with original PII data\n- 100% fidelity to original content\n- Confirmation of successful deobfuscation\n\n### Step 6: Validation\nCompare original and restored files:\n\n```javascript\n// Both files should be identical\n// orders.csv == orders_restored.csv\n```\n\n## Bulk Processing Workflow\n\n### Scenario: Multiple CSV Files\nProcess entire directory of data files:\n\n```javascript\n// Step 1: Bulk obfuscation\nmcp_obfuscate-mcp_bulk_unified_obfuscate({\n  \"rootDir\": \"C:\\\\cases\\\\data\",\n  \"include\": [\"*.csv\"],\n  \"exclude\": [\"*_processed.csv\", \"*_backup.csv\"],\n  \"agentId\": \"bulk-processing-session\",\n  \"securityLevel\": \"standard\",\n  \"concurrency\": 3,\n  \"outputMode\": \"summary\"\n})\n```\n\n**Benefits**:\n- Consistent tokenization across files\n- Parallel processing for efficiency\n- Shared key for all files in session\n- Comprehensive summary report\n\n## Text Processing Workflow\n\n### Scenario: Process Log Entries\nObfuscate sensitive data in log text:\n\n```javascript\nmcp_obfuscate-mcp_obfuscate_text({\n  \"text\": \"User john.doe@company.com logged in from IP 192.168.1.100 at 2024-08-01 10:30:00\",\n  \"agentId\": \"log-processing\",\n  \"securityLevel\": \"standard\"\n})\n```\n\n**Result**:\n```\nUser [EMAIL-A7C3E8F1] logged in from IP [IP-B4D2F7A9] at 2024-08-01 10:30:00\n```\n\n## Enhanced Processing with Categories\n\n### Scenario: Azure-Specific Data\nTarget specific pattern categories:\n\n```javascript\nmcp_obfuscate-mcp_enhanced_obfuscate({\n  \"text\": \"Subscription: 12345678-1234-1234-1234-123456789012\\nResource Group: rg-production\\nStorage Account: mystorageacct\",\n  \"categories\": [\"cloud\", \"secret\"],\n  \"scenario\": \"azure-minimal\",\n  \"contextAware\": true,\n  \"agentId\": \"azure-config-processing\"\n})\n```\n\n**Benefits**:\n- Focused on Azure-specific patterns\n- Reduced false positives\n- Context-aware validation\n- Optimized for cloud configurations\n\n## Error Handling and Troubleshooting\n\n### Common Issues\n\n#### 1. Authentication Errors\n```\nError: \"Unauthorized - Admin access required\"\nSolution: Ensure valid JWT token with admin privileges\n```\n\n#### 2. File Not Found\n```\nError: \"File not found at specified path\"\nSolution: Use absolute paths, verify file exists\n```\n\n#### 3. Tool Not Activated\n```\nError: \"Tool category not activated\"\nSolution: Call appropriate activate_* function first\n```\n\n#### 4. Key Not Found\n```\nError: \"Obfuscation key not found\"\nSolution: List keys first, verify key ID is correct\n```\n\n### Best Practices\n\n1. **Always Test with Sample Data**: Use small test files first\n2. **Verify Tool Activation**: Ensure all required categories are activated\n3. **Use Agent IDs**: Maintain consistency across related operations\n4. **Monitor Performance**: Use dashboard link for usage monitoring\n5. **Secure Admin Tokens**: Protect admin JWT tokens appropriately\n6. **Validate Results**: Always verify obfuscation/deobfuscation outcomes\n7. **Document Key IDs**: Keep records of key associations for future reference\n\n## Performance Considerations\n\n### File Size Limits\n- Large files: Use bulk processing with concurrency control\n- Memory usage: Monitor for very large datasets\n- Network timeouts: Consider file transfer times\n\n### Concurrency Settings\n- Default: 4 parallel files\n- Adjust based on system resources\n- Monitor server performance\n\n### Session Management\n- Use consistent agent IDs for related operations\n- Clean up expired sessions regularly\n- Monitor active session counts",
  "priority": 88,
  "audience": "developers",
  "requirement": "recommended",
  "categories": [],
  "sourceHash": "3ed625e413275bc9d469b6bfd56fb58d08e6b6a251c32405ad5c09d784a86d33",
  "schemaVersion": "3",
  "createdAt": "2025-09-08T22:31:11.775Z",
  "updatedAt": "2025-09-08T22:31:11.775Z",
  "riskScore": 32,
  "version": "1.0.0",
  "status": "approved",
  "owner": "unowned",
  "priorityTier": "P4",
  "classification": "internal",
  "lastReviewedAt": "2025-09-08T22:31:11.775Z",
  "nextReviewDue": "2026-01-06T22:31:11.775Z",
  "reviewIntervalDays": 120,
  "changeLog": [
    {
      "version": "1.0.0",
      "changedAt": "2025-09-08T22:31:11.775Z",
      "summary": "initial import"
    }
  ],
  "semanticSummary": "# MCP Obfuscation Server - Practical Workflows"
}